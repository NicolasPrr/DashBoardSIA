(this["webpackJsonphistory-add"]=this["webpackJsonphistory-add"]||[]).push([[0],{378:function(e,t,a){e.exports=a(665)},383:function(e,t,a){},664:function(e,t,a){},665:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),i=a.n(l),o=(a(383),a(25)),c=a(23),s=a(35),u=a(34),d=a(36),p=(a(199),a(101)),m=a(42),E=a(63);function f(e,t){return{type:"ADD_COURSE",indexPeriod:e,course:t}}function v(e,t){return{type:"DELETE_COURSE",indexPeriod:e,code:t}}function h(e){return{type:"ADD_PERIOD",period:e}}function b(){return{type:"CALCULATE_ALL"}}function g(e){return{type:"SET_PERIODS",periods:e}}function O(e){return{type:"SET_CREDITS",requiredCredits:e}}a(389),a(90),p.a.Header;var C=p.a.Footer,y=function(){return r.a.createElement(C,{style:{textAlign:"center",height:"100%"}},"Esto no es una web oficial desarrollada por la Universidad Nacional de Colombia")},A=(a(284),a(188)),P=(a(114),a(40)),I=(a(130),a(27)),j=(a(115),a(39)),x=(a(215),a(103)),k=(a(285),a(145)),F=(a(216),a(106)),S=(a(217),a(144)),L=S.a.TextArea,T=F.a.Title,R=F.a.Text,D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState({text:e.target.value})},a.isOk=function(){var e=a.state.text,t=(e=e.split(/\r\n|\r|\n/))[0];t=(t="Carga Terminada"===e[0]?e[1]:e[0]).toLowerCase();var n="Logo UniversidadPORTAL DE SERVICIOS ACAD\xc9MICOS";n=n.toLowerCase(),t.includes(n)?(k.a.success("Se ha recibido los datos con exito, por favor espere"),a.setState({loading:!0}),setTimeout((function(){a.props.onSuccess(e)}),2e3)):k.a.error("Un error ha ocurrido, por favor siga las instrucciones")},a.state={text:"",loading:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:w},r.a.createElement(A.a,{spinning:this.state.loading,size:"large",tip:"Procesando, por favor espera"},r.a.createElement(x.a,null),r.a.createElement(P.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(I.a,{span:18},r.a.createElement(T,{level:3},"Instrucciones"),r.a.createElement("li",null,r.a.createElement(R,null,"Ir a la historia academica del SIA desde el navegador"),r.a.createElement(R,{strong:!0},"Google Chrome")),r.a.createElement("li",null,r.a.createElement(R,null,"Oprime las teclas ",r.a.createElement(R,{mark:!0}," CRTL + A")," para seleccionar todo.")),r.a.createElement("li",null,r.a.createElement(R,null,"Una vez seleccionado se debe copiar con"," ",r.a.createElement(R,{mark:!0}," CRTL + C."))),r.a.createElement("li",null,r.a.createElement(R,null,"Finalmente pega la informacion en el campo"," ",r.a.createElement(R,{mark:!0}," CRTL + V."))),r.a.createElement("br",null),r.a.createElement(R,{type:"secondary"},"La aplicaci\xf3n permite editar , agregar y borrar asignaturas."),r.a.createElement(x.a,null),r.a.createElement(L,{autosize:{minRows:10,maxRows:15},placeholder:"Ingresa la historia academcia ac\xe1",onChange:function(t){return e.onChange(t)}}),r.a.createElement(j.a,{type:"primary",block:!0,onClick:this.isOk},"Analizar")))))}}]),t}(n.Component),w={backgroundColor:"#fff"},N=(a(289),a(71)),q=(a(464),a(266)),z=(a(290),a(126)),B=(a(291),a(83)),_=(a(292),a(4)),G=(a(468),a(267)),M=(a(293),a(191)),U=(a(219),a(69)),V=function(e){for(var t=e.visible,a=e.onOk,n=e.quitModal,l=e.onChangeSelect,i=(new Date).getFullYear(),o=[],c=0;c<4;c++)o.push(i-1+c+"-1"),o.push(i-1+c+"-2");return r.a.createElement(M.a,{title:"Agregar periodo academico",visible:t,onCancel:n,onOk:a},r.a.createElement(U.a,{style:{width:"100%"},placeholder:"Selecciona un periodo",onChange:function(e){return l(e)}},Object.keys(o).map((function(e){return r.a.createElement(U.a.Option,{key:e,value:o[e]}," ",o[e])}))))},W=G.a.Step;function H(){return r.a.createElement(_.a,{type:"flag",style:{fontSize:"20px"}})}function Z(){return r.a.createElement(_.a,{type:"more",style:{fontSize:"20px"}})}function J(){return r.a.createElement(_.a,{type:"smile",style:{fontSize:"20px"},theme:"twoTone",twoToneColor:"#52c41a"})}function K(){return r.a.createElement(_.a,{type:"frown",style:{fontSize:"20px"}})}function Y(){return r.a.createElement(_.a,{type:"meh",style:{fontSize:"20px"},theme:"twoTone",twoToneColor:"#505D78"})}function X(e){var t=e.PAPPI;return t<3?r.a.createElement(K,null):t<4?r.a.createElement(Y,null):t<5?r.a.createElement(J,null):r.a.createElement(K,null)}function $(e){var t=e.PAPPI,a=e.PAPA,n=e.PA;return r.a.createElement("div",null,r.a.createElement(P.a,{type:"flex",gutter:40,justify:"start"},r.a.createElement(I.a,null,r.a.createElement(B.a,{title:"PAPA",value:a,valueStyle:{color:"#7285AB"}})),r.a.createElement(I.a,null,r.a.createElement(B.a,{title:"PAPPI",value:t})),r.a.createElement(I.a,null,r.a.createElement(B.a,{title:"PA",value:n}))))}var Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).changePeriod=function(e){a.setState({current:e});var t=a.props.periods.length;e===t+1&&a.activateModal(),e>0&&e<t+1&&a.props.changeCurrent(e)},a.activateModal=function(){a.setState({visible:!0})},a.quitModal=function(){a.setState({visible:!1})},a.onChangeSelect=function(e){a.setState({toAdd:e})},a.addPeriod=function(){null!==a.state.toAdd?(a.quitModal(),a.props.addPeriodRedux(a.state.toAdd),a.props.calculateAll()):k.a.error("No ha seleccionado un periodo")},a.state={current:0,visible:!1,toAdd:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.periods;return r.a.createElement("div",null,r.a.createElement(V,{visible:this.state.visible,quitModal:this.quitModal,onChangeSelect:this.onChangeSelect,onOk:this.addPeriod}),r.a.createElement(G.a,{current:this.state.current,direction:"vertical",size:"small",onChange:function(t){return e.changePeriod(t)}},r.a.createElement(W,{title:"Inicio",icon:r.a.createElement(H,null)}),Object.keys(t).map((function(e){return r.a.createElement(W,{title:t[e].name,description:r.a.createElement($,{PAPA:t[e].PAPA,PAPPI:t[e].PAPPI,PA:t[e].PA}),key:e,icon:r.a.createElement(X,{PAPPI:t[e].PAPPI})})})),r.a.createElement(W,{title:"Agregar periodo academico",icon:r.a.createElement(Z,null),status:"finish"})))}}]),t}(r.a.Component),ee=Object(m.b)((function(e){return{periods:e.periods}}),(function(e){return Object(E.b)({addPeriodRedux:h,calculateAll:b},e)}))(Q),te=(a(347),a(143)),ae=(a(666),a(358)),ne=(a(488),a(268)),re=(a(490),a(92)),le=U.a.Option,ie=re.a.create({name:"form_in_modal"})(function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,l=e.form.getFieldDecorator;return r.a.createElement(M.a,{visible:t,title:"Agregar curso",okText:"Crear",cancelText:"Cancelar",onCancel:a,onOk:n},r.a.createElement(re.a,{layout:"vertical"},r.a.createElement(re.a.Item,{label:"Codigo"},l("code",{rules:[{required:!0,message:"Please input the course code!"}]})(r.a.createElement(S.a,null))),r.a.createElement(re.a.Item,{label:"Nombre"},l("name",{rules:[{required:!0,message:"Please input the course name!"}]})(r.a.createElement(S.a,null))),r.a.createElement(re.a.Item,{label:"Select",hasFeedback:!0},l("typology",{rules:[{required:!0,message:"Please select typology!"}]})(r.a.createElement(U.a,{placeholder:"Please select a typology"},r.a.createElement(le,{value:"E"},"Nivelaci\xf3n"),r.a.createElement(le,{value:"C"},"DISCIPLINAR OBLIGATORIA"),r.a.createElement(le,{value:"O"},"FUND. OPTATIVA"),r.a.createElement(le,{value:"T"},"DISCIPLINAR OPTATIVA"),r.a.createElement(le,{value:"L"},"LIBRE ELECCI\xd3N"),r.a.createElement(le,{value:"B"},"FUND. OBLIGATORIA")))),r.a.createElement(re.a.Item,{label:"Creditos"},l("credits",{initialValue:3})(r.a.createElement(ne.a,{min:1,max:10}))),r.a.createElement(re.a.Item,{label:"Nota"},l("grade",{initialValue:3})(r.a.createElement(ne.a,{min:1,max:10,step:.1})))))}}]),t}(r.a.Component)),oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){a.formRef.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),a.props.onOkModal(t))}))},a.saveFormRef=function(e){a.formRef=e},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ie,{wrappedComponentRef:this.saveFormRef,visible:this.props.visible,onCancel:this.props.quitModal,onCreate:this.handleCreate}))}}]),t}(r.a.Component),ce=[{title:"Periodo academico",dataIndex:"name",key:"name"},{title:"PAPA",dataIndex:"PAPA",key:"PAPA"},{title:"PA",dataIndex:"PA",key:"PA"},{title:"PAPPI",dataIndex:"PAPPI",key:"PAPI"}],se=[{title:"Codigo",dataIndex:"code",key:"code"},{title:"Nombre",dataIndex:"name",key:"name",ellipsis:!0},{title:"Tipo",dataIndex:"type",key:"type"},{title:"Creditos",dataIndex:"credits",key:"credits"},{title:"Nota",dataIndex:"grade",key:"grade"}];function ue(e){var t=[];return e.forEach((function(e){var a;t.push({name:e[3],code:e[1],type:(a=e[7],"E"===a?"Nivelaci\xf3n":"C"===a?"Disciplinar obligatoria":"O"===a?"Fund. optativa":"T"===a?"Disciplinar optativa":"L"===a?"Electiva":"B"===a?"Fund. obligatoria":void 0),credits:e[8],grade:e[10]})})),t}function de(e){var t=ue(e.courses);return r.a.createElement(te.a,{size:"small",columns:se,dataSource:t,pagination:!1,style:{margin:5},rowKey:function(e){return e.code}})}var pe=Object(m.b)((function(e){return{periods:e.periods}}))((function(e){var t=e.periods,a=e.current;return console.log(a),r.a.createElement(te.a,{bordered:!0,size:"small",columns:ce,dataSource:t,pagination:!1,expandedRowRender:de,scroll:{x:650},rowKey:function(e){return e.name},defaultExpandAllRows:!0})})),me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).quitModal=function(){a.setState({visible:!1})},a.onOkModal=function(e){a.quitModal();var t=["",e.code,e.code,e.name,0,0,0,e.typology,e.credits,0,e.grade];a.props.addCourse(a.props.current,t)},a.state={visible:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.courses,n=t.deleteCourse,l=t.current,i=ue(a),o=[{title:"Codigo",dataIndex:"code",key:"code",editable:!0},{title:"Nombre",dataIndex:"name",key:"name",ellipsis:!0,editable:!0},{title:"Tipo",dataIndex:"type",key:"type",editable:!0},{title:"Creditos",dataIndex:"credits",key:"credits",editable:!0},{title:"Nota",dataIndex:"grade",key:"grade",editable:!0},{title:"Acci\xf3n",key:"action",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(x.a,{type:"vertical"}),r.a.createElement(ae.a,{title:"Borrar?",onConfirm:function(){n(l,t.code)}},r.a.createElement("a",{href:"#/"},"Borrar")))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{size:"small",columns:o,dataSource:i,rowKey:function(e){return e.code}}),r.a.createElement(j.a,{onClick:function(){e.setState({visible:!0})}},"Agregar curso"),r.a.createElement(oe,{quitModal:this.quitModal,visible:this.state.visible,onOkModal:this.onOkModal}))}}]),t}(r.a.Component),Ee=Object(m.b)(null,(function(e){return Object(E.b)({deleteCourse:v,addCourse:f},e)}))(me),fe=(a(359),a(22)),ve=a(121),he=a.n(ve),be=a(43),ge=a(82),Oe=a(65);function Ce(e){for(var t=0,a=0,n=0;n<e.length;n++){("T"===e[n][7]||"O"===e[n][7]||"C"===e[n][7]||"L"===e[n][7]||"B"===e[n][7]||"1000001"===e[n][1])&&(t+=parseInt(e[n][8]),a+=e[n][8]*e[n][10])}return(a/t).toFixed(2)}function ye(e,t,a,n,r,l){for(var i=a,o=t,c=0;c<e.length;c++){if("T"===e[c][7]||"O"===e[c][7]||"C"===e[c][7]||"L"===e[c][7]||"B"===e[c][7]||"1000001"===e[c][1]){var s=e[c],u=n[e[c][1]];void 0!==u?s[10]>u[10]&&s[10]>3?(n[s[1]]=void 0,r+=s[10]*s[8]-u[10]*u[8]):s[10]>u[10]&&s[10]<3&&(n[s[1]]=Object.assign({},s),r+=s[10]*s[8]-u[10]*u[8]):e[c][10]<3?(n[e[c][1]]=Object.assign({},s),r+=s[10]*s[8],l+=parseInt(s[8])):(r+=s[10]*s[8],l+=parseInt(s[8])),i+=parseInt(e[c][8]),o+=e[c][8]*parseFloat(e[c][10])}}return[(o/i).toFixed(2),o,i,n,r,l,(r/l).toFixed(2)]}function Ae(e){for(var t,a,n,r,l=0,i=0,o=0,c=0,s=0,u=0,d=0,p=0,m=0,E=0,f=0;f<e.length;f++){t=e[f].courses;for(var v=0;v<t.length;v++){var h=t[v][7];"L"===h&&(i+=t[v][8]*parseFloat(t[v][10]),l+=parseInt(t[v][8])),"B"===h&&(c+=t[v][8]*parseFloat(t[v][10]),o+=parseInt(t[v][8])),"O"===h&&(u+=t[v][8]*parseFloat(t[v][10]),s+=parseInt(t[v][8])),"C"===h&&(p+=t[v][8]*parseFloat(t[v][10]),d+=parseInt(t[v][8])),"T"===h&&(E+=t[v][8]*parseFloat(t[v][10]),m+=parseInt(t[v][8]))}}return a=((c+u)/(o+s)).toFixed(2),n=((p+E)/(d+m)).toFixed(2),r=(r=i/l).toFixed(2),[parseFloat(a),parseFloat(n),parseFloat(r)]}function Pe(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0,n=0,r=0,l=0,i=0,o=0;o<e.length;o++)for(var c=e[o].courses,s=0;s<c.length;s++){var u=parseFloat(c[s][10]),d=c[s][7];(!t&&u>=3||t)&&("L"===d&&(a+=parseInt(c[s][8])),"B"===d&&(n+=parseInt(c[s][8])),"O"===d&&(r+=parseInt(c[s][8])),"C"===d&&(l+=parseInt(c[s][8])),"T"===d&&(i+=parseInt(c[s][8])))}return{elective:a,fundObli:n,fundOpt:r,dispObli:l,dispOpt:i}}function Ie(e){var t,a,n,r,l=[],i=0,o=0,c={},s=0,u=0;l=Object(ge.a)(e);for(var d=0;d<l.length;d++){var p=Ce(l[d].courses);l[d].PAPPI=p,t=ye(l[d].courses,i,o,c,s,u),l[d].PAPA=t[0],l[d].PA=t[6],i=t[1],o=t[2],c=t[3],s=t[4],u=t[5]}var m=Ae(l),E=Object(be.a)(m,3);return a=E[0],n=E[1],r=E[2],{dataRadar:[{name:"Fundamentacion",average:parseFloat(a)},{name:"Disciplinar",average:parseFloat(n)},{name:"Electiva",average:parseFloat(r)}],periods:l}}var je=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=new he.a,t=function(e){var t=[];return e.forEach((function(e){var a=Object(Oe.a)({},e);a.PAPA=parseFloat(e.PAPA),a.PA=parseFloat(e.PA),a.PAPPI=parseFloat(e.PAPPI),t.push(a)})),t}(this.props.periods),a=e.createView().source(t);a.transform({type:"fold",fields:["PAPA","PA","PAPPI"],key:"key",value:"value"});return r.a.createElement("div",null,r.a.createElement(fe.Chart,{height:400,data:a,scale:{name:{alias:"Periodo acad\xe9mico"}},forceFit:!0},r.a.createElement(fe.Legend,null),r.a.createElement(fe.Axis,{name:"name",title:{autoRotate:!0,textStyle:{fontSize:"12",textAlign:"center",fill:"#999",fontWeight:"bold"},position:"center"}}),r.a.createElement(fe.Tooltip,{crosshairs:{type:"y"}}),r.a.createElement(fe.Geom,{type:"line",position:"name*value",size:2,color:"key"}),r.a.createElement(fe.Geom,{type:"point",position:"name*value",size:4,shape:"circle",color:"key",style:{stroke:"#fff",lineWidth:1}})))}}]),t}(r.a.Component),xe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=Ae(this.props.periods),t=Object(be.a)(e,3),a=t[0],n=t[1],l=t[2];console.log(Ae(this.props.periods));var i=[{item:"Fundamentacion",user:"name_user",score:a},{item:"Disciplinar",user:"name_user",score:n},{item:"Electiva",user:"name_user",score:l}];return r.a.createElement("div",null,r.a.createElement(fe.Chart,{height:300,data:i,scale:{score:{min:0,max:5}},forceFit:!0},r.a.createElement(fe.Coord,{type:"polar",radius:.9}),r.a.createElement(fe.Axis,{name:"item",line:null,tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}}),r.a.createElement(fe.Tooltip,null),r.a.createElement(fe.Axis,{name:"score",line:null,tickLine:null,grid:{type:"circle",lineStyle:{lineDash:null},alternateColor:"rgba(0, 0, 0, 0.04)"}}),r.a.createElement(fe.Legend,{name:"user",marker:"circle",offset:30}),r.a.createElement(fe.Geom,{type:"area",position:"item*score",color:"user"}),r.a.createElement(fe.Geom,{type:"line",position:"item*score",color:"user",size:2}),r.a.createElement(fe.Geom,{type:"point",position:"item*score",color:"user",shape:"circle",size:4,style:{stroke:"#fff",lineWidth:1,fillOpacity:1}})))}}]),t}(r.a.Component),ke=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=he.a.DataView,t=fe.Guide.Html,a=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0,n=0,r=0,l=0,i=0,o=0;o<e.length;o++)for(var c=e[o].courses,s=0;s<c.length;s++){var u=parseFloat(c[s][10]),d=c[s][7];(!t&&u>=3||t)&&("L"===d&&a++,"B"===d&&n++,"O"===d&&r++,"C"===d&&l++,"T"===d&&i++)}return{elective:a,fundObli:n,fundOpt:r,dispObli:l,dispOpt:i}}(this.props.periods,this.props.countCoursesLoss);console.log("types:",a);var n=[{item:"Electivas",count:a.elective},{item:"Fund obg",count:a.fundObli},{item:"Fund  optativa",count:a.fundOpt},{item:"Disciplinar obligatoria",count:a.dispObli},{item:"Disciplinar optativa",count:a.dispOpt}],l=a.dispOpt+a.dispObli+a.fundOpt+a.fundObli+a.elective,i=new e;i.source(n).transform({type:"percent",field:"count",dimension:"item",as:"percent"});var o={percent:{formatter:function(e){return e=(100*parseFloat(e)).toFixed(2)+"%"}}};return r.a.createElement("div",null,r.a.createElement(fe.Chart,{height:300,data:i,scale:o,forceFit:!0},r.a.createElement(fe.Coord,{type:"theta",radius:.75,innerRadius:.6}),r.a.createElement(fe.Axis,{name:"percent"}),r.a.createElement(fe.Legend,{position:"bottom"}),r.a.createElement(fe.Tooltip,{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),r.a.createElement(fe.Guide,null,r.a.createElement(t,{position:["50%","50%"],html:"<div>Total: ".concat(l,"</div>"),alignX:"middle",alignY:"middle"})),r.a.createElement(fe.Geom,{type:"intervalStack",position:"percent",color:"item",tooltip:["item*count",function(e,t){return{name:e,value:t}}],style:{lineWidth:1,stroke:"#fff"}},r.a.createElement(fe.Label,{content:"percent",formatter:function(e,t){return t.point.item+":   "+e}}))))}}]),t}(r.a.Component),Fe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=he.a.DataView,t=fe.Guide.Html,a=this.props.types;console.log("types:",a);var n=[{item:"Electivas",count:a.elective},{item:"Fund obg",count:a.fundObli},{item:"Fund  optativa",count:a.fundOpt},{item:"Disciplinar obligatoria",count:a.dispObli},{item:"Disciplinar optativa",count:a.dispOpt}],l=a.dispOpt+a.dispObli+a.fundOpt+a.fundObli+a.elective,i=new e;i.source(n).transform({type:"percent",field:"count",dimension:"item",as:"percent"});var o={percent:{formatter:function(e){return e=(100*parseFloat(e)).toFixed(2)+"%"}}};return r.a.createElement("div",null,r.a.createElement(fe.Chart,{height:300,data:i,scale:o,forceFit:!0},r.a.createElement(fe.Coord,{type:"theta",radius:.75,innerRadius:.6}),r.a.createElement(fe.Axis,{name:"percent"}),r.a.createElement(fe.Legend,{position:"bottom"}),r.a.createElement(fe.Tooltip,{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),r.a.createElement(fe.Guide,null,r.a.createElement(t,{position:["50%","50%"],html:"<div>Total: ".concat(l,"</div>"),alignX:"middle",alignY:"middle"})),r.a.createElement(fe.Geom,{type:"intervalStack",position:"percent",color:"item",tooltip:["item*count",function(e,t){return{name:e,value:t}}],style:{lineWidth:1,stroke:"#fff"}},r.a.createElement(fe.Label,{content:"percent",formatter:function(e,t){return t.point.item+":   "+e}}))))}}]),t}(r.a.Component),Se=(a(156),a(56)),Le=F.a.Text;function Te(e){return console.log("Course: ",e.data[3]),r.a.createElement("div",null,r.a.createElement(Le,null,"Curso: ",e.data[3]),r.a.createElement("br",null),r.a.createElement(Le,null,"Cantidad de materias con esta nota: ",e.number),r.a.createElement("br",null),r.a.createElement(Le,{type:e.grade<3?"danger":"warning"},"Nota: ",e.grade))}var Re=Object(m.b)((function(e){return{periods:e.periods}}))((function(e){var t=function(e){var t=0,a=0,n={},r={},l=0,i=0;return n.grade=0,r.grade=1e3,e.forEach((function(e){e.courses.forEach((function(e){a++;var o=parseFloat(e[10]);o<3&&t++,o===r.grade&&(i++,r.number=i),o<r.grade&&(r.data=Object(ge.a)(e),r.grade=o,r.number=1),o===n.grade&&(l++,n.number=l),o>n.grade&&(l=1,n.data=Object(ge.a)(e),n.grade=o,n.number=1)}))})),{total:a,loss:t,worstCourse:r,bestCourse:n}}(e.periods),a=t.total,n=t.loss,l=t.worstCourse,i=t.bestCourse;return r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement(P.a,{gutter:[20,10]},r.a.createElement(I.a,{xs:{span:24},lg:{span:6}},r.a.createElement(Se.a,{title:"No se tiene en cuenta las materias nivelatorias de ingl\xe9s"},r.a.createElement(N.a,null,r.a.createElement(B.a,{title:"Cantidad de materias vistas",value:a})))),r.a.createElement(I.a,{xs:{span:24},lg:{span:6}},r.a.createElement(N.a,null,r.a.createElement(B.a,{title:"Cantidad de materias perdidas",value:n,valueStyle:{color:"#cf1322"},prefix:r.a.createElement(_.a,{type:"frown"}),suffix:"/".concat(a)}))),r.a.createElement(I.a,{xs:{span:24},lg:{span:6}},r.a.createElement(N.a,null,r.a.createElement(B.a,{title:"Nota m\xe1s baja",formatter:Te,value:l,valueStyle:{color:"#cf1322",fontSize:15}}))),r.a.createElement(I.a,{xs:{span:24},lg:{span:6}},r.a.createElement(N.a,null,r.a.createElement(B.a,{title:"Nota m\xe1s alta",formatter:Te,value:i,valueStyle:{color:"#3f8600",fontSize:15}})))))})),De=(a(661),a(153)),we=F.a.Text;function Ne(e,t){return e>t?100:e/t*100}function qe(e,t){return e>t?t:e}var ze=Object(m.b)((function(e){return{requiredCredits:e.requiredCredits}}),null)((function(e){var t=e.types,a=e.requiredCredits,n=parseFloat(a.fundObgl)+parseFloat(a.fundOpt),l=parseFloat(t.fundObli)+parseFloat(t.fundOpt),i=parseFloat(a.dispObgl)+parseFloat(a.dispOpt),o=parseFloat(t.dispObli)+parseFloat(t.dispOpt),c=qe(l,n)+qe(parseFloat(t.elective),parseFloat(a.elective))+qe(o,i),s=parseFloat(a.elective)+i+n+parseFloat(a.degreeWork),u=Ne(c,s);return r.a.createElement("div",null,r.a.createElement(we,null,"Electivas"),r.a.createElement(Se.a,{title:"".concat(t.elective,"/").concat(a.elective)},r.a.createElement(De.a,{strokeColor:{"0%":"#108ee9","100%":"#295A80"},percent:Ne(t.elective,a.elective)})),r.a.createElement(we,null,"Fundamentaci\xf3n"),r.a.createElement(Se.a,{title:"".concat(l,"/").concat(n)},r.a.createElement(De.a,{strokeColor:{"0%":"#108ee9","100%":"#04BFBF"},percent:Ne(l,n)})),r.a.createElement(we,null,"Disciplinar"),r.a.createElement(Se.a,{title:"".concat(o,"/").concat(i)},r.a.createElement(De.a,{strokeColor:{"0%":"#108ee9","100%":"#F23E2E"},percent:Ne(o,i)})),r.a.createElement(P.a,{type:"flex",justify:"center"},r.a.createElement(Se.a,{title:"".concat(c,"/").concat(s)},r.a.createElement(De.a,{strokeColor:{"0%":"#108ee9","100%":"##0FF25E"},width:280,type:"dashboard",percent:parseFloat(u.toFixed(2))}))))})),Be=z.a.TabPane,_e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).SwitchCourses=function(){return r.a.createElement("div",null,"Con materias perdidas ?",r.a.createElement(q.a,{onChange:function(e){return a.changeLossCourses(e)}}))},a.SwitchCredits=function(){return r.a.createElement("div",null,"Con creditos perdidos ?",r.a.createElement(q.a,{onChange:function(e){return a.changeLossCredits(e)}}))},a.changeCurrent=function(e){a.setState({current:e-1})},a.changeLossCourses=function(e){a.setState({countCoursesLoss:e})},a.changeLossCredits=function(e){a.setState({countCreditsLoss:e})},a.state={years:[],dataRadar:[],current:0,countCoursesLoss:!1,countCreditsLoss:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.periods[this.state.current].courses,t=Pe(this.props.periods,this.state.countCreditsLoss),a=Pe(this.props.periods,!1);return r.a.createElement("div",null,r.a.createElement(x.a,null),r.a.createElement(z.a,{onChange:null},r.a.createElement(Be,{tab:"Todas las materias",key:"1"},r.a.createElement(pe,null)),r.a.createElement(Be,{tab:"Linea del tiempo",key:"2"},r.a.createElement(P.a,null,r.a.createElement(I.a,{xs:{span:24},lg:{span:5}},r.a.createElement(ee,{changeCurrent:this.changeCurrent})),r.a.createElement(I.a,{xs:{span:24},lg:{span:19}},r.a.createElement(Ee,{current:this.state.current,courses:e})))),r.a.createElement(Be,{tab:"Stats",key:"4"},r.a.createElement("div",{style:{background:"#ECECEC",padding:"30px"}},r.a.createElement(Re,null),r.a.createElement(P.a,{gutter:[20,20]},r.a.createElement(I.a,{xs:{span:24},lg:{span:8}},r.a.createElement(N.a,{title:"Materias  vistas por tipologia",size:"small",extra:r.a.createElement(this.SwitchCourses,null)},r.a.createElement(ke,{periods:this.props.periods,countCoursesLoss:this.state.countCoursesLoss}))),r.a.createElement(I.a,{xs:{span:24},lg:{span:8}},r.a.createElement(N.a,{size:"small",title:"Promedio por tipolog\xeda"},r.a.createElement(xe,{periods:this.props.periods}))),r.a.createElement(I.a,{xs:{span:24},lg:{span:8}},r.a.createElement(N.a,{size:"small",title:"Cantidad de creditos por tipolog\xeda",extra:r.a.createElement(this.SwitchCredits,null)},r.a.createElement(Fe,{types:t})))),r.a.createElement(P.a,{gutter:[20,20]},r.a.createElement(I.a,{xs:{span:24},lg:{span:12}},r.a.createElement(N.a,{title:"Avance",size:"small"},r.a.createElement(ze,{types:a}))),r.a.createElement(I.a,{xs:{span:24},lg:{span:12}},r.a.createElement(N.a,{size:"small"},r.a.createElement(je,{periods:this.props.periods}))))))))}}]),t}(n.Component),Ge=Object(m.b)((function(e){return{periods:e.periods}}))(_e);function Me(e){return[e[0],e[2],e[2],e[1],0,0,0,(t=e[4],"NIVELACI\xd3N"===t?"E":"DISCIPLINAR OBLIGATORIA"===t?"C":"FUND. OPTATIVA"===t?"O":"DISCIPLINAR OPTATIVA"===t?"T":"LIBRE ELECCI\xd3N"===t?"L":"FUND. OBLIGATORIA"===t?"B":void 0),e[3],0,e[6]];var t}a(664);var Ue=p.a.Content,Ve=function(e){var t=e.type,a=e.malla_function,n=e.history;return console.log("history:",n),"input"===t?r.a.createElement(D,{onSuccess:a}):"malla"===t?r.a.createElement(Ge,null):r.a.createElement("div",null,"Nothing to do :( :( : )")},We=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getData=function(e){var t=function(e){for(var t={periods:[],requiredCredits:{dispObgl:null,degreeWork:null,fundObgl:null,dispOpt:null,elective:null,fundOpt:null}},a=/([A-Z\xc1-\xda][\xe1-\xfaa-z\xc1-\xdaA-Z ,:-]*[a-zA-Z]) \((\d{7})[-B]*\)\t(\d)\t([A-Z\xc1-\xda .]*)\t(\d{4}-\d)S Ordinaria\t(\d.\d)/,n=/DISCIPLINAR OBLIGATORIA\t(\d*)\t(\d*)\t(\d*)\t(\d*)\t(\d*)/,r=/TRABAJO DE GRADO\t(\d*)\t(\d*)\t(\d*)\t(\d*)\t(\d*)/,l=/FUND. OBLIGATORIA\t(\d*)\t(\d*)\t(\d*)\t(\d*)\t(\d*)/,i=/DISCIPLINAR OPTATIVA\t(\d*)\t(\d*)\t(\d*)\t(\d*)\t(\d*)/,o=/LIBRE ELECCI\xd3N\t(\d*)\t(\d*)\t(\d*)\t(\d*)\t(\d*)/,c=/FUND. OPTATIVA\t(\d*)\t(\d*)\t(\d*)\t(\d*)\t(\d*)/,s={},u=-1,d=e.length;d>0;d--){var p=a.exec(e[d]);null!==p&&(void 0===s[p[5]]?(u++,s[p[5]]=1,t.periods.push({name:p[5],courses:[Me(p)]})):t.periods[u].courses.push(Me(p)));var m=n.exec(e[d]),E=r.exec(e[d]),f=l.exec(e[d]),v=i.exec(e[d]),h=o.exec(e[d]),b=c.exec(e[d]);t.requiredCredits={dispObgl:null===m?t.requiredCredits.dispObgl:m[1],degreeWork:null===E?t.requiredCredits.degreeWork:E[1],fundObgl:null===f?t.requiredCredits.fundObgl:f[1],dispOpt:null===v?t.requiredCredits.dispOpt:v[1],elective:null===h?t.requiredCredits.elective:h[1],fundOpt:null===b?t.requiredCredits.fundOpt:b[1]}}return console.log(t),t}(e);console.log("first history:",t),a.setState({history:t},(function(){a.props.setPeriods(t.periods),a.props.calculateAll(),a.props.setCredits(t.requiredCredits),a.setState({type:"malla"})}))},a.state={type:"input",history:null,periods:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(Ue,null,r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:280}},r.a.createElement(Ve,{type:this.state.type,malla_function:this.getData,history:this.state.history}))),r.a.createElement(y,null)))}}]),t}(r.a.Component),He=Object(m.b)(null,(function(e){return Object(E.b)({setPeriods:g,calculateAll:b,setCredits:O},e)}))(We);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ze(e){return{name:e,courses:[],PAPA:"",PAPPI:"",PA:""}}var Je={periods:[]},Ke=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_PERIOD":return e=Ze(n.period),Object(Oe.a)({},a,{periods:[].concat(Object(ge.a)(a.periods),[e])});case"CALCULATE_ALL":var r=Ie(a.periods),l=r.periods,i=r.dataRadar;return Object(Oe.a)({},a,{dataRadar:i,periods:l});case"SET_PERIODS":return Object(Oe.a)({},a,{periods:n.periods});case"DELETE_COURSE":return(e=(t=Object(ge.a)(a.periods))[n.indexPeriod]).courses=e.courses.filter((function(e){return e[1]!==n.code})),t[n.indexPeriod]=Object(Oe.a)({},e),Object(Oe.a)({},a,{periods:t});case"ADD_COURSE":return(e=(t=Object(ge.a)(a.periods))[n.indexPeriod]).courses.push(n.course),t[n.indexPeriod]=Object(Oe.a)({},e),Object(Oe.a)({},a,{periods:t});case"SET_CREDITS":return Object(Oe.a)({},a,{requiredCredits:n.requiredCredits});default:return Object(Oe.a)({},a)}},Ye=Object(E.d)(Ke,Object(E.c)(Object(E.a)((function(e){return function(t){return function(a){console.log("Log action:",a),t(a),"DELETE_COURSE"!==a.type&&"ADD_COURSE"!==a.type||e.dispatch({type:"CALCULATE_ALL"})}}}))));i.a.render(r.a.createElement((function(){return r.a.createElement(m.a,{store:Ye},r.a.createElement(He,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[378,1,2]]]);
//# sourceMappingURL=main.eb3c649f.chunk.js.map